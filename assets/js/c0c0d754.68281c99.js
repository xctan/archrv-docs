/*! For license information please see c0c0d754.68281c99.js.LICENSE.txt */
"use strict";(self.webpackChunkriscv_package_guide=self.webpackChunkriscv_package_guide||[]).push([[495],{7843:function(e,t,n){n.r(t),n.d(t,{assets:function(){return oe},contentTitle:function(){return ie},default:function(){return de},frontMatter:function(){return ue},metadata:function(){return le},toc:function(){return ce}});var r=n(7462),a=n(3366),u=n(7294),i=n(3905),l=n(2389);function o(e){var t=e.children,n=e.fallback;return(0,l.Z)()?u.createElement(u.Fragment,null,null==t?void 0:t()):null!=n?n:null}n(3066);function c(e,t,n,r){return new(n||(n=Promise))((function(a,u){function i(e){try{o(r.next(e))}catch(t){u(t)}}function l(e){try{o(r.throw(e))}catch(t){u(t)}}function o(e){var t;e.done?a(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(i,l)}o((r=r.apply(e,t||[])).next())}))}function s(e,t){var n,r,a,u,i={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:l(0),throw:l(1),return:l(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function l(u){return function(l){return function(u){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(a=2&u[0]?r.return:u[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,u[1])).done)return a;switch(r=0,a&&(u=[2&u[0],a.value]),u[0]){case 0:case 1:a=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,r=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(a=i.trys,(a=a.length>0&&a[a.length-1])||6!==u[0]&&2!==u[0])){i=0;continue}if(3===u[0]&&(!a||u[1]>a[0]&&u[1]<a[3])){i.label=u[1];break}if(6===u[0]&&i.label<a[1]){i.label=a[1],a=u;break}if(a&&i.label<a[2]){i.label=a[2],i.ops.push(u);break}a[2]&&i.ops.pop(),i.trys.pop();continue}u=t.call(e,i)}catch(l){u=[6,l],r=0}finally{n=a=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,l])}}}var d,p=function(){},f=p(),k=Object,m=function(e){return e===f},v=function(e){return"function"==typeof e},g=function(e,t){return k.assign({},e,t)},h="undefined",b=function(){return typeof window!=h},y=new WeakMap,N=0,w=function(e){var t,n,r=typeof e,a=e&&e.constructor,u=a==Date;if(k(e)!==e||u||a==RegExp)t=u?e.toJSON():"symbol"==r?e.toString():"string"==r?JSON.stringify(e):""+e;else{if(t=y.get(e))return t;if(t=++N+"~",y.set(e,t),a==Array){for(t="@",n=0;n<e.length;n++)t+=w(e[n])+",";y.set(e,t)}if(a==k){t="#";for(var i=k.keys(e).sort();!m(n=i.pop());)m(e[n])||(t+=n+":"+w(e[n])+",");y.set(e,t)}}return t},x=!0,E=b(),C=typeof document!=h,R=E&&window.addEventListener?window.addEventListener.bind(window):p,S=C?document.addEventListener.bind(document):p,I=E&&window.removeEventListener?window.removeEventListener.bind(window):p,T=C?document.removeEventListener.bind(document):p,A={isOnline:function(){return x},isVisible:function(){var e=C&&document.visibilityState;return m(e)||"hidden"!==e}},V={initFocus:function(e){return S("visibilitychange",e),R("focus",e),function(){T("visibilitychange",e),I("focus",e)}},initReconnect:function(e){var t=function(){x=!0,e()},n=function(){x=!1};return R("online",t),R("offline",n),function(){I("online",t),I("offline",n)}}},D=!b()||"Deno"in window,O=function(e){return b()&&typeof window.requestAnimationFrame!=h?window.requestAnimationFrame(e):setTimeout(e,1)},L=D?u.useEffect:u.useLayoutEffect,F="undefined"!=typeof navigator&&navigator.connection,P=!D&&F&&(["slow-2g","2g"].includes(F.effectiveType)||F.saveData),M=function(e){if(v(e))try{e=e()}catch(n){e=""}var t=[].concat(e);return[e="string"==typeof e?e:(Array.isArray(e)?e.length:e)?w(e):"",t,e?"$swr$"+e:""]},_=new WeakMap,q=function(e,t,n,r,a,u,i){void 0===i&&(i=!0);var l=_.get(e),o=l[0],c=l[1],s=l[3],d=o[t],p=c[t];if(i&&p)for(var f=0;f<p.length;++f)p[f](n,r,a);return u&&(delete s[t],d&&d[0])?d[0](2).then((function(){return e.get(t)})):e.get(t)},B=0,U=function(){return++B},G=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return c(void 0,void 0,void 0,(function(){var t,n,r,a,u,i,l,o,c,d,p,k,h,b,y,N,w,x,E,C,R;return s(this,(function(s){switch(s.label){case 0:if(t=e[0],n=e[1],r=e[2],a=e[3],i=!!m((u="boolean"==typeof a?{revalidate:a}:a||{}).populateCache)||u.populateCache,l=!1!==u.revalidate,o=!1!==u.rollbackOnError,c=u.optimisticData,d=M(n),p=d[0],k=d[2],!p)return[2];if(h=_.get(t),b=h[2],e.length<3)return[2,q(t,p,t.get(p),f,f,l,!0)];if(y=r,w=U(),b[p]=[w,0],x=!m(c),E=t.get(p),x&&(C=v(c)?c(E):c,t.set(p,C),q(t,p,C)),v(y))try{y=y(t.get(p))}catch(S){N=S}return y&&v(y.then)?[4,y.catch((function(e){N=e}))]:[3,2];case 1:if(y=s.sent(),w!==b[p][0]){if(N)throw N;return[2,y]}N&&x&&o&&(i=!0,y=E,t.set(p,E)),s.label=2;case 2:return i&&(N||(v(i)&&(y=i(y,E)),t.set(p,y)),t.set(k,g(t.get(k),{error:N}))),b[p][1]=U(),[4,q(t,p,y,N,f,l,!!i)];case 3:if(R=s.sent(),N)throw N;return[2,i?R:y]}}))}))},K=function(e,t){for(var n in e)e[n][0]&&e[n][0](t)},H=function(e,t){if(!_.has(e)){var n=g(V,t),r={},a=G.bind(f,e),u=p;if(_.set(e,[r,{},{},{},a]),!D){var i=n.initFocus(setTimeout.bind(f,K.bind(f,r,0))),l=n.initReconnect(setTimeout.bind(f,K.bind(f,r,1)));u=function(){i&&i(),l&&l(),_.delete(e)}}return[e,a,u]}return[e,_.get(e)[4]]},Q=H(new Map),W=Q[0],X=Q[1],$=g({onLoadingSlow:p,onSuccess:p,onError:p,onErrorRetry:function(e,t,n,r,a){var u=n.errorRetryCount,i=a.retryCount,l=~~((Math.random()+.5)*(1<<(i<8?i:8)))*n.errorRetryInterval;!m(u)&&i>u||setTimeout(r,l,a)},onDiscarded:p,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:P?1e4:5e3,focusThrottleInterval:5e3,dedupingInterval:2e3,loadingTimeout:P?5e3:3e3,compare:function(e,t){return w(e)==w(t)},isPaused:function(){return!1},cache:W,mutate:X,fallback:{}},A),Z=function(e,t){var n=g(e,t);if(t){var r=e.use,a=e.fallback,u=t.use,i=t.fallback;r&&u&&(n.use=r.concat(u)),a&&i&&(n.fallback=g(a,i))}return n},J=(0,u.createContext)({}),Y=function(e){return v(e[1])?[e[0],e[1],e[2]||{}]:[e[0],null,(null===e[1]?e[2]:e[1])||{}]},j=function(){return g($,(0,u.useContext)(J))},z=function(e,t,n){var r=t[e]||(t[e]=[]);return r.push(n),function(){var e=r.indexOf(n);e>=0&&(r[e]=r[r.length-1],r.pop())}},ee={dedupe:!0},te=(k.defineProperty((function(e){var t=e.value,n=Z((0,u.useContext)(J),t),r=t&&t.provider,a=(0,u.useState)((function(){return r?H(r(n.cache||W),t):f}))[0];return a&&(n.cache=a[0],n.mutate=a[1]),L((function(){return a?a[2]:f}),[]),(0,u.createElement)(J.Provider,g(e,{value:n}))}),"default",{value:$}),d=function(e,t,n){var r=n.cache,a=n.compare,i=n.fallbackData,l=n.suspense,o=n.revalidateOnMount,d=n.refreshInterval,p=n.refreshWhenHidden,k=n.refreshWhenOffline,h=_.get(r),b=h[0],y=h[1],N=h[2],w=h[3],x=M(e),E=x[0],C=x[1],R=x[2],S=(0,u.useRef)(!1),I=(0,u.useRef)(!1),T=(0,u.useRef)(E),A=(0,u.useRef)(t),V=(0,u.useRef)(n),F=function(){return V.current},P=function(){return F().isVisible()&&F().isOnline()},B=function(e){return r.set(R,g(r.get(R),e))},K=r.get(E),H=m(i)?n.fallback[E]:i,Q=m(K)?H:K,W=r.get(R)||{},X=W.error,$=!S.current,Z=function(){return $&&!m(o)?o:!F().isPaused()&&(l?!m(Q)&&n.revalidateIfStale:m(Q)||n.revalidateIfStale)},J=!(!E||!t)&&(!!W.isValidating||$&&Z()),Y=function(e,t){var n=(0,u.useState)({})[1],r=(0,u.useRef)(e),a=(0,u.useRef)({data:!1,error:!1,isValidating:!1}),i=(0,u.useCallback)((function(e){var u=!1,i=r.current;for(var l in e){var o=l;i[o]!==e[o]&&(i[o]=e[o],a.current[o]&&(u=!0))}u&&!t.current&&n({})}),[]);return L((function(){r.current=e})),[r,a.current,i]}({data:Q,error:X,isValidating:J},I),j=Y[0],te=Y[1],ne=Y[2],re=(0,u.useCallback)((function(e){return c(void 0,void 0,void 0,(function(){var t,u,i,l,o,c,d,p,k,g,h,b,y;return s(this,(function(s){switch(s.label){case 0:if(t=A.current,!E||!t||I.current||F().isPaused())return[2,!1];l=!0,o=e||{},c=!w[E]||!o.dedupe,d=function(){return!I.current&&E===T.current&&S.current},p=function(){var e=w[E];e&&e[1]===i&&delete w[E]},k={isValidating:!1},g=function(){B({isValidating:!1}),d()&&ne(k)},B({isValidating:!0}),ne({isValidating:!0}),s.label=1;case 1:return s.trys.push([1,3,,4]),c&&(q(r,E,j.current.data,j.current.error,!0),n.loadingTimeout&&!r.get(E)&&setTimeout((function(){l&&d()&&F().onLoadingSlow(E,n)}),n.loadingTimeout),w[E]=[t.apply(void 0,C),U()]),y=w[E],u=y[0],i=y[1],[4,u];case 2:return u=s.sent(),c&&setTimeout(p,n.dedupingInterval),w[E]&&w[E][1]===i?(B({error:f}),k.error=f,h=N[E],!m(h)&&(i<=h[0]||i<=h[1]||0===h[1])?(g(),c&&d()&&F().onDiscarded(E),[2,!1]):(a(j.current.data,u)?k.data=j.current.data:k.data=u,a(r.get(E),u)||r.set(E,u),c&&d()&&F().onSuccess(u,E,n),[3,4])):(c&&d()&&F().onDiscarded(E),[2,!1]);case 3:return b=s.sent(),p(),F().isPaused()||(B({error:b}),k.error=b,c&&d()&&(F().onError(b,E,n),("boolean"==typeof n.shouldRetryOnError&&n.shouldRetryOnError||v(n.shouldRetryOnError)&&n.shouldRetryOnError(b))&&P()&&F().onErrorRetry(b,E,n,re,{retryCount:(o.retryCount||0)+1,dedupe:!0}))),[3,4];case 4:return l=!1,g(),d()&&c&&q(r,E,k.data,k.error,!1),[2,!0]}}))}))}),[E]),ae=(0,u.useCallback)(G.bind(f,r,(function(){return T.current})),[]);if(L((function(){A.current=t,V.current=n})),L((function(){if(E){var e=E!==T.current,t=re.bind(f,ee),n=0,r=z(E,y,(function(e,t,n){ne(g({error:t,isValidating:n},a(j.current.data,e)?f:{data:e}))})),u=z(E,b,(function(e){if(0==e){var r=Date.now();F().revalidateOnFocus&&r>n&&P()&&(n=r+F().focusThrottleInterval,t())}else if(1==e)F().revalidateOnReconnect&&P()&&t();else if(2==e)return re()}));return I.current=!1,T.current=E,S.current=!0,e&&ne({data:Q,error:X,isValidating:J}),Z()&&(m(Q)||D?t():O(t)),function(){I.current=!0,r(),u()}}}),[E,re]),L((function(){var e;function t(){var t=v(d)?d(Q):d;t&&-1!==e&&(e=setTimeout(n,t))}function n(){j.current.error||!p&&!F().isVisible()||!k&&!F().isOnline()?t():re(ee).then(t)}return t(),function(){e&&(clearTimeout(e),e=-1)}}),[d,p,k,re]),(0,u.useDebugValue)(Q),l&&m(Q)&&E)throw A.current=t,V.current=n,I.current=!1,m(X)?re(ee):X;return{mutate:ae,get data(){return te.data=!0,Q},get error(){return te.error=!0,X},get isValidating(){return te.isValidating=!0,J}}},function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=j(),r=Y(e),a=r[0],u=r[1],i=r[2],l=Z(n,i),o=d,c=l.use;if(c)for(var s=c.length;s-- >0;)o=c[s](o);return o(a,u||l.fetcher,l)}),ne=function(){return fetch.apply(void 0,arguments).then((function(e){return e.text()}))};function re(){return u.createElement(o,{fallback:u.createElement("b",null,"Loading Blacklist...")},(function(){var e,t,n,r,a=(e=te("https://raw.githubusercontent.com/felixonmars/archriscv-packages/master/blacklist.txt",ne),t=e.data,n=e.error,{text:t,isLoading:!n&&!t,isError:n}),i=a.text,l=a.isError;return a.isLoading?u.createElement("b",null,"Loading..."):l?u.createElement("b",null,"Fail to load blacklist"):u.createElement("ul",null,(r=i.split(/\r?\n/),u.createElement("ul",null,r.map((function(e){return e.startsWith("# ")?u.createElement("b",null,e.replace("# ","")):u.createElement("li",null,e)})))))}))}var ae=["components"],ue={},ie=void 0,le={unversionedId:"guide/build-guide",id:"guide/build-guide",title:"build-guide",description:"\u80a5\u732b\uff08\u9879\u76ee\u4e3b\u8d1f\u8d23\u4eba\uff09\u4f1a\u4e0d\u65ad\u7684\u5c06 x86-64 \u6e90\u91cc\u7684\u8f6f\u4ef6\u5305\u811a\u672c\u5728 RISC-V \u4e0a\u8fdb\u884c\u7f16\u8bd1\u3002",source:"@site/docs/guide/2-build-guide.mdx",sourceDirName:"guide",slug:"/guide/build-guide",permalink:"/docs/guide/build-guide",draft:!1,editUrl:"https://github.com/Avimitin/archrv-docs/docs/guide/2-build-guide.mdx",tags:[],version:"current",sidebarPosition:2,frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\u8bbe\u7f6e RISC-V QEMU \u73af\u5883",permalink:"/docs/guide/start-guide"},next:{title:"\u4ee3\u7801\u89c4\u8303",permalink:"/docs/guide/PR-guide"}},oe={},ce=[{value:"\u9886\u53d6\u5305",id:"\u9886\u53d6\u5305",level:2},{value:"\u4fee\u5305",id:"\u4fee\u5305",level:2},{value:"Q&amp;A",id:"qa",level:3},{value:"\u5de5\u4f1a\u9875\u7684\u53ef\u7528\u67e5\u8be2\u53c2\u6570",id:"\u5de5\u4f1a\u9875\u7684\u53ef\u7528\u67e5\u8be2\u53c2\u6570",level:2},{value:"\u76ee\u524d\u7684\u9ed1\u540d\u5355",id:"\u76ee\u524d\u7684\u9ed1\u540d\u5355",level:2}],se={toc:ce};function de(e){var t=e.components,n=(0,a.Z)(e,ae);return(0,i.kt)("wrapper",(0,r.Z)({},se,n,{components:t,mdxType:"MDXLayout"}),(0,i.kt)("h1",{id:"\u5de5\u4f5c\u6d41\u4ecb\u7ecd"},"\u5de5\u4f5c\u6d41\u4ecb\u7ecd"),(0,i.kt)("p",null,"\u80a5\u732b\uff08\u9879\u76ee\u4e3b\u8d1f\u8d23\u4eba\uff09\u4f1a\u4e0d\u65ad\u7684\u5c06 x86-64 \u6e90\u91cc\u7684\u8f6f\u4ef6\u5305\u811a\u672c\u5728 RISC-V \u4e0a\u8fdb\u884c\u7f16\u8bd1\u3002\n\u6210\u529f\u7684\u5c06\u4f1a\u76f4\u63a5\u52a0\u5165 RISC-V \u7684\u6e90\u91cc\uff0c\u5931\u8d25\u7684\u4f1a\u628a\u65e5\u5fd7\u6587\u4ef6\u653e\u5728\n",(0,i.kt)("a",{parentName:"p",href:"https://archriscv.felixc.at/.status/status.htm"},"https://archriscv.felixc.at/.status/status.htm"),' \u91cc\u5e76\u5bf9\u8fd9\u4e2a\u5305\u6807\u8bb0\u4e0a FTBFS \u6807\u5fd7\u3002\nFTBFS \u662f "Fail To Build From Source" \u7684\u7f29\u5199\u3002\u6211\u4eec\u7684\u4efb\u52a1\u5c31\u662f\u5c1d\u8bd5\u4fee\u590d\u8fd9\u4e9b\u5305\u3002'),(0,i.kt)("p",null,"\u65e5\u5e38\u4f60\u4e0d\u9700\u8981\u5728\u4e0a\u9762\u90a3\u4e2a\u7f51\u9875\u641c\uff0c\u6211\u4eec\u8fd8\u6709\u4e00\u4e2a\u5de5\u4f1a\u9875\u8bb0\u5f55\u4e86\u5305\u7684\u72b6\u6001\uff1a"),(0,i.kt)("p",null,(0,i.kt)("a",{parentName:"p",href:"https://plct-archrv.ax64.workers.dev/"},"https://plct-archrv.ax64.workers.dev/")),(0,i.kt)("p",null,"\u5176\u4e2d\uff0c\u5de6\u8fb9\u662f\u5305\u7684\u540d\u5b57\uff0c\u70b9\u51fb\u5305\u7684\u540d\u5b57\u53ef\u4ee5\u76f4\u63a5\u8df3\u8f6c\u5230\u4e0a\u4e00\u6b21\u5305\u6784\u5efa\u7684\u65e5\u5fd7\u3002\n\u4f60\u9700\u8981\u6ce8\u610f\u770b\u53f3\u8fb9\u7684 mark \u6807\u8bb0\uff0c\u4e0a\u9762\u4f1a\u8bb0\u5f55\u7740\u6bcf\u4e00\u4e2a\u5305\u5f53\u524d\u7684\u72b6\u6001\u3002\n\u4f60\u53ef\u4ee5\u628a\u9f20\u6807\u79fb\u52a8\u5230\u6807\u8bb0\u4e0a\u6765\u67e5\u770b\u8be6\u7ec6\u4fe1\u606f\u3002"),(0,i.kt)("h2",{id:"\u9886\u53d6\u5305"},"\u9886\u53d6\u5305"),(0,i.kt)("p",null,"\u627e\u5230\u4e00\u4e2a\u60f3\u4fee\u7684\u5305\uff0c\u67e5\u770b\u7b2c\u4e09\u6392\u7684\u72b6\u6001\uff0c\u770b\u770b\u662f\u4e0d\u662f\u5df2\u7ecf\u6709\u4eba\u6b63\u5728\u4fee\uff0c\u6216\u8005\u5df2\u7ecf\u4fee\u597d\u4e86\u3002\n\u5982\u679c\u662f\u4e00\u4e2a\u6ca1\u4eba\u5904\u7406\u7684\u5305\uff0c\u4f60\u53ef\u4ee5\u5230\u7fa4\u91cc\u7528 ",(0,i.kt)("inlineCode",{parentName:"p"},"/add")," \u547d\u4ee4\u6765\u83b7\u53d6\u8fd9\u4e2a\u5305\u7684\u9501\uff0c\u8ba9\u540c\u4e8b\n\u77e5\u9053\u4f60\u5df2\u7ecf\u5728\u5904\u7406\u8fd9\u4e2a\u5305\u4e86\u3002\u6bd4\u5982\u4f60\u73b0\u5728\u60f3\u4fee rust\uff0c\u90a3\u4e48\u53d1\u9001 ",(0,i.kt)("inlineCode",{parentName:"p"},"/add rust")," \u5373\u53ef\u3002"),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\u5982\u679c\u4f60\u662f\u666e\u901a\u8def\u4eba\uff0c\u90a3\u4e48\u53ea\u9700\u8981\u53bb\u4ed3\u5e93\u770b\u770b\u6709\u6ca1\u6709\u51b2\u7a81 pr \u5373\u53ef\u3002")),(0,i.kt)("h2",{id:"\u4fee\u5305"},"\u4fee\u5305"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"\u4e0b\u8f7d\u6784\u5efa\u811a\u672c\u6587\u4ef6")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"asp checkout rust\n")),(0,i.kt)("ol",{start:2},(0,i.kt)("li",{parentName:"ol"},"\u4fee\u6539\u67b6\u6784")),(0,i.kt)("p",null,"\u4e0a\u4e00\u6b65\u7684\u547d\u4ee4\u4f1a\u5c06\u4e0a\u6e38\u7684\u6784\u5efa\u811a\u672c clone \u5230\u5f53\u524d\u6587\u4ef6\u5939\u3002\n\u4f60\u9700\u8981\u8fdb\u5165\u5305\u76ee\u5f55\u4e0b\u7684 trunk \u76ee\u5f55\uff0c\u4fee\u6539 PKGBUILD \u7684\u6784\u5efa\u67b6\u6784\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},"cd rust/trunk\nsetconf PKGBUILD arch \"('x86_64' 'riscv64')\"\n")),(0,i.kt)("p",null,"\u8fd9\u4e00\u6b65\u53ef\u4ee5\u5141\u8bb8\u6211\u4eec\u5728 riscv64 \u67b6\u6784\u4e0b\u8fd0\u884c\u8fd9\u4e2a\u7f16\u8bd1\u811a\u672c\u3002"),(0,i.kt)("ol",{start:3},(0,i.kt)("li",{parentName:"ol"},"\u521b\u5efa\u7f13\u5b58\u6587\u4ef6\u5939")),(0,i.kt)("p",null,"\u6211\u4eec\u8fd8\u9700\u8981\u6784\u5efa\u4e00\u4e2a\u6587\u4ef6\u5939\u4f5c\u4e3a\u5305\u7684\u7f13\u5b58\u3002\u5728\u7f16\u8bd1\u8fc7\u7a0b\u4e2d\uff0cpacman \u4f1a\u4e0b\u8f7d\u811a\u672c\n\u9700\u8981\u7684\u4f9d\u8d56\u5305\uff0c\u5982\u679c\u7f13\u5b58\u6587\u4ef6\u5939\u590d\u7528\uff0c\u4e0d\u5e72\u51c0\u5c31\u4f1a\u5bfc\u81f4\u6784\u5efa\u65f6\u4f9d\u8d56\u5b89\u88c5\u5931\u8d25\u7b49\u95ee\u9898\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},'# \u4f60\u53ef\u4ee5\u76f4\u63a5\u521b\u5efa\u4e00\u4e2a\u56fa\u5b9a\u7684\u6587\u4ef6\u5939\nmkdir ~/.cache/pkgcache\n\n# \u4e5f\u53ef\u4ee5\u968f\u4fbf\u521b\u5efa\u4e00\u4e2a\u4e34\u65f6\u6587\u4ef6\u5939\nmktemp -d -t "pkgcache_XXX"\n')),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},"\u5f00\u59cb\u6784\u5efa")),(0,i.kt)("p",null,"\u5b89\u88c5\u597d archlinuxcn \u6e90\u91cc\u7684 devtools \u4e4b\u540e\uff0c\u6211\u4eec\u4f1a\u6709 RISC-V \u4e13\u7528\u7684\n",(0,i.kt)("inlineCode",{parentName:"p"},"extra-riscv64-build")," \u5de5\u5177\u6765\u5e2e\u52a9\u6211\u4eec\u6784\u5efa\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-console"},'export CACHE_DIR="YOUR CACHE DIRECTORY"\nextra-riscv64-build -- -d "$CACHE_DIR:/var/cache/pacman/pkg"\n')),(0,i.kt)("p",null,"\u8fd9\u91cc\u7684 -d \u51fd\u6570\u4f1a\u628a ",(0,i.kt)("inlineCode",{parentName:"p"},"$CACHE_DIR")," \u5230 ",(0,i.kt)("inlineCode",{parentName:"p"},"/var/cache/pacman/pkg")," \u7684\u8def\u5f84\u6620\u5c04\u53c2\u6570\n\u4f20\u5230\u4e0b\u4e00\u5c42\u7684 makechrootpkg \u7a0b\u5e8f\u3002\u5728 chroot \u91cc\u4e0b\u8f7d\u7684\u8f6f\u4ef6\u5305\u53ef\u4ee5\u5728 ",(0,i.kt)("inlineCode",{parentName:"p"},"$CACHE_DIR"),"\n\u91cc\u627e\u5230\u3002"),(0,i.kt)("h3",{id:"qa"},"Q&A"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u6211\u6709\u4e00\u4e9b\u989d\u5916\u8d44\u8baf\uff0c\u5982\u4f55\u9644\u5e26\u5728\u5305\u7684\u6807\u7b7e\u4e0a\u5462\uff1f")),(0,i.kt)("p",null,"\u5728\u547d\u4ee4 ",(0,i.kt)("inlineCode",{parentName:"p"},"/mark package status")," status \u4e4b\u540e\u7684\u6240\u6709\u5b57\u7b26\u90fd\u4f1a\u5f53\u4f5c\u9644\u5f55\u52a0\u5165\u6807\u7b7e\u91cc\u3002\n\u6bd4\u5982\u4f60\u60f3\u8bf4 neovim \u5305\u56e0\u4e3a\u4e0a\u6e38\u7684\u4e00\u4e2a\u6539\u52a8\u5bfc\u81f4\u7f16\u8bd1\u5931\u8d25\u4e86\uff0c\u53ef\u4ee5\u8fd9\u6837\u7528\u673a\u5668\u4eba\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"/mark package upstreamed Fail to build because https://github.com/xxxxxxx\n                         ^\n                         \u4ece\u8fd9\u91cc\u5f00\u59cb\u7684\u6240\u6709\u6587\u5b57\u90fd\u4f1a\u88ab\u8bb0\u5f55\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u6709\u7684\u5305\u6709 FTBFS \u72b6\u6001\uff0c\u4f46\u662f\u5374\u80fd\u5728\u672c\u5730\u6210\u529f\u6784\u5efa")),(0,i.kt)("p",null,"\u53ef\u80fd\u6700\u8fd1\u5305\u4fee\u597d\u4e86\u6ca1\u6709 rebuild\uff0c\u4f7f\u7528\u673a\u5668\u4eba\u547d\u4ee4 ",(0,i.kt)("inlineCode",{parentName:"p"},"/mark PACKAGE ready")," \u8ba9\u80a5\u732b\u77e5\u9053\uff0c\n\u7b49\u80a5\u732b\u91cd\u65b0\u7f16\u8bd1\u3002"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u4fee\u590d\u4e86\u51e0\u6b21\u4e5f\u4fee\u4e0d\u597d\uff0c\u6216\u8005\u5305\u7279\u522b\u96be\u4fee\uff0c\u6bd4\u5982\u5f88\u591a x86 \u7684\u6c47\u7f16\uff0c\u60f3\u8f6c\u8ba9\u7ed9\u522b\u4eba\u6765\u4fee\uff1a")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"/mark PKGNAME stuck\n/drop PKGNAME\n")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u91ca\u653e\u4e00\u4e2a\u5305\u88f9")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"/drop PKGNAME")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u64a4\u9500\u6807\u8bb0")),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"/unmark PKGNAME STATUS")),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u4ec0\u4e48\u65f6\u5019\u6807\u8bb0 QEMU\uff1f")),(0,i.kt)("p",null,"\u53ea\u6709\u6bd4\u5982\u8bf4\u6d4b\u8bd5\u8dd1\u4e0d\u8fc7\uff0c\u6216\u8005 qemu \u795e\u5947 bug \u5bfc\u81f4\u7684\uff0c\u624d\u6807 #noqemu\u3002"),(0,i.kt)("p",null,"\u6ce8\u610f\uff0c\u5982\u679c\u53ea\u6709 QEMU \u91cc\u624d\u4f1a\u51fa\u9519\uff0c\u5f00\u53d1\u677f\u6ca1\u6709\u95ee\u9898\u7684\u8bdd\uff0c\u4e0d\u8981\u4fee\uff0c\u76f4\u63a5\u6807 qemu\u3002"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u4ec0\u4e48\u65f6\u5019\u6807\u8bb0 outdated_dep\uff1f")),(0,i.kt)("p",null,"\u4f9d\u8d56\uff08\u5305\uff09\u8fc7\u671f\u4e86\uff0c\u9700\u8981\u5728repo\u91cc\u6eda/\u4e0a\u6e38\u6eda\u3002"),(0,i.kt)("p",null,"\u6ce8\u610f\uff1a\u73b0\u5728\u673a\u5668\u4eba\u4f1a\u81ea\u52a8\u68c0\u67e5\u4f9d\u8d56\u5e76\u81ea\u52a8 unmark outdated \u4e86\uff0c\u4f60\u9700\u8981\u7528\u7279\u6b8a\u7684\u8bed\u6cd5\u6765\u6807\u8bb0\u4f9d\u8d56\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"/mark xxx outdated_dep [aaa]\n")),(0,i.kt)("p",null,"\u5f53 aaa \u66f4\u65b0\u7684\u65f6\u5019\uff0cxxx \u8fd9\u4e2a\u5305\u5c31\u4f1a\u88ab\u81ea\u52a8\u89e3\u9664\u4f9d\u8d56\u8fc7\u671f\u6807\u8bb0\uff0c\u540c\u65f6\u4f60\u4e5f\u4f1a\u88ab\u901a\u77e5\u3002"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u6807\u4e86 failing \u7684\u5305\u662f\u4ec0\u4e48\u610f\u601d")),(0,i.kt)("p",null,"\u6807\u8bb0 failing \u7684\u5305\u90fd\u662f\u6700\u8fd1\u4e00\u6b21\u6784\u5efa\u5931\u8d25\u7684\uff0c\u540c\u65f6\u673a\u5668\u4eba\u4f1a\u6807\u8bb0\u4e0a failing \u7684\u65f6\u95f4\u3002\n\u4f60\u53ef\u4ee5\u628a\u9f20\u6807\u79fb\u52a8\u5230 failing \u7684\u6587\u5b57\u4e0a\u6765\u67e5\u770b\u989d\u5916\u8baf\u606f\u3002"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"\u53ef\u7528\u7684 mark \u5305\u62ec")),(0,i.kt)("p",null,"unknown, upstreamed, outdated, outdated_dep, stuck, noqemu, ready, pending"),(0,i.kt)("h2",{id:"\u5de5\u4f1a\u9875\u7684\u53ef\u7528\u67e5\u8be2\u53c2\u6570"},"\u5de5\u4f1a\u9875\u7684\u53ef\u7528\u67e5\u8be2\u53c2\u6570"),(0,i.kt)("p",null,"\u5de5\u4f1a\u9875\u652f\u6301 URL \u67e5\u8be2\u53c2\u6570\uff0c\u53ef\u7528\u7684\u53c2\u6570\u6709"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"name: \u5305\u540d\uff0cuser: \u7528\u6237\u540d\uff0c"),(0,i.kt)("li",{parentName:"ul"},"work: \u76ee\u524d\u5de5\u4f5c\u72b6\u6001 (merged, working, pull requested)\uff0c"),(0,i.kt)("li",{parentName:"ul"},"mark: \u5305\u7684\u6807\u8bb0 (\u548c bot \u7684\u6807\u8bb0\u4e00\u6837)\uff0c"),(0,i.kt)("li",{parentName:"ul"},"mkby: \u6253\u6807\u8bb0\u7684\u4eba\u540d (\u53ef\u4ee5\u7528\u6765\u8ffd\u8e2a outdated)\uff0c"),(0,i.kt)("li",{parentName:"ul"},"sort: \u53ef\u4ee5 sort=name, sort=user, sort=mark, sort=work...\u3002\u4e5f\u53ef\u4ee5\u7ec4\u5408\u4f7f\u7528"),(0,i.kt)("li",{parentName:"ul"},"expandAllComments: \u5c55\u5f00\u6240\u6709\u7684\u6807\u8bb0")),(0,i.kt)("p",null,"\u6bd4\u5982\u4f60\u8981\u67e5\u8be2\u8c01\u6253\u8fc7\u6807\u8bb0\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"https://plct-archrv.ax64.workers.dev/?mkby=*-x64,%E7%93%9C\n")),(0,i.kt)("p",null,"\u6bd4\u5982\u4f60\u60f3\u8ba9\u5de5\u4f1a\u9875\u4ee5\u5de5\u4f5c\u72b6\u6001\u6392\u5e8f\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-text"},"https://plct-archrv.ax64.workers.dev/?sort=work\n")),(0,i.kt)("h1",{id:"leaf-package-port-it"},"Leaf package, port it!"),(0,i.kt)("p",null,"\u5728\u80a5\u732b\u7684\u5305\u72b6\u6001\u9875\u91cc\uff0c\u6709\u4e9b\u5305\u88ab\u6807\u8bb0\u4e86 leaf \u72b6\u6001\u3002"),(0,i.kt)("p",null,"\u8fd9\u4e9b\u662f\u5c1a\u672a\u6765\u5f97\u53ca\u6784\u5efa\u7684\u5305\uff0c\u5982\u679c\u6ca1\u4ec0\u4e48\u597d\u4fee\u7684\u5305\uff0c\u4f60\u53ef\u4ee5\u5904\u7406\u4e00\u4e0b\u4ed6\u4eec\u3002"),(0,i.kt)("p",null,"\u5982\u679c\u6784\u5efa\u5931\u8d25\uff0c\u90a3\u4e48\u5c31\u628a\u8fd9\u4e2a\u5305\u5f53\u4f5c FTBFS \u6765\u4fee\uff0c\u5982\u679c\u6784\u5efa\u6210\u529f\uff0c\u6807\u8bb0\u4e00\u4e2a ready \u901a\u77e5\u80a5\u732b\u5373\u53ef\u3002"),(0,i.kt)("h1",{id:"rotten"},"rotten"),(0,i.kt)("p",null,"rotten \u4ee3\u8868\u539f\u6765\u8fd9\u4e2a\u5305\u7684 patch \u6253\u4e0d\u4e0a\u4e86\u3002\u8fd9\u901a\u5e38\u662f\u56e0\u4e3a Arch Linux \u7684\u4e0a\u6e38 PKGBUILD \u66f4\u65b0\u4e86\u5bfc\u81f4\npatch \u5bf9\u4e0d\u4e0a\u4f4d\u7f6e\u3002\u8fd9\u6837\u7684\u5305\u6709\u5f88\u591a\uff0c\u800c\u4e14\u901a\u5e38\u5f88\u7b80\u5355\uff0c\u8bf7\u5c3d\u91cf\u4fee\u590d\u3002"),(0,i.kt)("h1",{id:"\u9ed1\u540d\u5355"},"\u9ed1\u540d\u5355"),(0,i.kt)("p",null,"\u6709\u4e00\u4e9b\u5305\u5b8c\u5168\u6ca1\u6709\u5728 RISC-V \u4e0a\u6253\u7684\u5fc5\u8981\uff0c\u6bd4\u5982 intel \u7cfb\u5217\uff0c\u95ed\u6e90 binary \u5305\u7b49\u7b49\u3002\n\u6240\u4ee5\u5728\u5c1d\u8bd5\u6253\u5305\u524d\uff0c\u5148\u786e\u8ba4\u8fd9\u4e2a\u5305\u5728 RISC-V \u4e0a\u662f\u5426\u6709\u6253\u7684\u5fc5\u8981\u3002\n\u5982\u679c\u6ca1\u6709\uff0c\u7528 bot \u7ed9\u8fd9\u4e9b\u5305\u6253\u4e0a ignore \u6807\u7b7e\u3002"),(0,i.kt)("h2",{id:"\u76ee\u524d\u7684\u9ed1\u540d\u5355"},"\u76ee\u524d\u7684\u9ed1\u540d\u5355"),(0,i.kt)(re,{mdxType:"RenderBlacklist"}))}de.isMDXComponent=!0}}]);